# 问卷数据清洗报告

## 概述

本报告详细描述了问卷数据的清洗过程、转换规则、质量验证结果以及最终数据统计信息。

## 1. 数据概览

### 1.1 原始数据

| 指标 | 数值 |
|------|------|
| 总记录数 | 10 条 |
| 原始字段数 | 8 个 |
| 数据时间范围 | 2025-12-01 至 2025-12-10 |
| 数据来源 | 问卷系统导出 |

### 1.2 清洗后数据

| 指标 | 数值 |
|------|------|
| 总记录数 | 10 条 |
| 清洗后字段数 | 11 个 |
| 必填字段完整率 | 100% |
| 质量检查结果 | ✅ 通过 |

---

## 2. 数据转换说明

### 2.1 字段映射

| 原始字段 | 清洗后字段 | 转换类型 | 说明 |
|---------|-----------|---------|------|
| 提交时间 | submit_time | 标准化 | 统一格式为 `YYYY-MM-DD HH:MM:SS` |
| 年龄 | age | 数值提取 | 去除单位"岁"，转换为整数 |
| 工作年限 | tenure_years | 数值提取 | 去除单位"年"，转换为浮点数 |
| 所属部门 | department | 分类编码 | 文本→数值编码（生产=1, 研发=2, 销售=3, 职能=4, 其他=5） |
| 满意度 | satisfaction | 量表标准化 | 正向计分，保留 1-5 分制 |
| 工作负荷 | workload | 量表反转 | 反向计分转换（6 - 原值） |
| 福利选项 | benefits_raw | 保留原值 | 保留原始逗号分隔字符串 |
| - | benefit_insurance | 多选题拆分 | 是否选择"五险一金"（0/1） |
| - | benefit_vacation | 多选题拆分 | 是否选择"带薪年假"（0/1） |
| - | benefit_medical | 多选题拆分 | 是否选择"补充医疗"（0/1） |
| 其他说明 | other_dept_specify | 文本提取 | 提取 `〖...〗` 内内容 |

### 2.2 缺失值处理

| 字段 | 缺失编码 | 说明 |
|------|---------|------|
| age | -99 | 未回答 |
| tenure_years | -99 | 未回答 |
| department | -99 | 未回答 |
| satisfaction | -99 | 未回答 |
| workload | -99 | 未回答 |

---

## 3. 数据统计

### 3.1 人口统计学信息

**年龄分布**

| 统计量 | 数值 |
|--------|------|
| 最小值 | 18 岁 |
| 最大值 | 60 岁 |
| 平均值 | 38.4 岁 |
| 中位数 | 36 岁 |
| 缺失值 | 0 条 |

**工作年限分布**

| 统计量 | 数值 |
|--------|------|
| 最小值 | 0.5 年 |
| 最大值 | 35.0 年 |
| 平均值 | 11.2 年 |
| 中位数 | 8.5 年 |
| 缺失值 | 0 条 |

**部门分布**

| 部门 | 编码 | 人数 | 占比 |
|------|------|------|------|
| 研发 | 2 | 3 | 30% |
| 销售 | 3 | 2 | 20% |
| 职能 | 4 | 2 | 20% |
| 生产 | 1 | 1 | 10% |
| 其他 | 5 | 2 | 20% |

### 3.2 满意度分析

**满意度分布（原始评分）**

| 分数 | 含义 | 人数 | 占比 |
|------|------|------|------|
| 1 | 非常不满意 | 1 | 11.1% |
| 2 | 不满意 | 2 | 22.2% |
| 3 | 一般 | 2 | 22.2% |
| 4 | 满意 | 2 | 22.2% |
| 5 | 非常满意 | 2 | 22.2% |

> 注：排除 1 条缺失值（-99）

**工作负荷分布（转换后）**

| 分数 | 含义 | 人数 | 占比 |
|------|------|------|------|
| 1 | 轻松 | 3 | 33.3% |
| 2 | 较轻 | 2 | 22.2% |
| 3 | 一般 | 2 | 22.2% |
| 4 | 较重 | 1 | 11.1% |
| 5 | 繁重 | 1 | 11.1% |

> 注：排除 1 条缺失值（-99）

### 3.3 福利选项统计

| 福利类型 | 选择人数 | 选择率 |
|---------|---------|--------|
| 五险一金 | 5 | 50% |
| 带薪年假 | 4 | 40% |
| 补充医疗 | 3 | 30% |

---

## 4. 数据质量检查

### 4.1 Schema 合规性

✅ **通过**

- 所有蓝图定义的字段均存在于清洗后数据中
- 字段类型符合定义要求
- 无多余字段

### 4.2 数据完整性

✅ **通过**

| 检查项 | 状态 | 详情 |
|--------|------|------|
| 必填字段完整性 | ✅ | submit_time 字段无缺失 |
| 缺失值编码规范 | ✅ | -99 编码使用正确 |
| 数值范围合规 | ✅ | 所有数值均在规定范围内 |

### 4.3 业务规则验证

✅ **通过**

| 规则 | 状态 | 说明 |
|------|------|------|
| 年龄范围 (18-70) | ✅ | 所有值符合范围 |
| 工作年限范围 (0-50) | ✅ | 所有值符合范围 |
| 部门编码有效性 | ✅ | 所有编码在 {1,2,3,4,5} 范围内 |
| 满意度范围 (1-5) | ✅ | 所有有效值符合范围 |
| 工作负荷范围 (1-5) | ✅ | 所有有效值符合范围 |
| 福利虚拟变量 (0/1) | ✅ | 所有值为 0 或 1 |
| 部门与说明一致性 | ✅ | 非其他部门时说明字段为空 |

---

## 5. 异常记录说明

### 5.1 缺失值记录

| 记录 | 缺失字段 | 处理方式 |
|------|---------|---------|
| 第 9 条 | satisfaction, workload | 编码为 -99（未回答） |
| 第 4, 6, 11 条 | benefits_raw | 空字符串（未选择福利） |

### 5.2 特殊说明

| 部门 | 说明文本 | 说明 |
|------|---------|------|
| 其他 | "希望增加远程办公" | 员工希望增加远程办公福利 |
| 其他 | "已退休返聘" | 已退休人员返聘 |

---

## 6. 数据交付物清单

| 文件 | 格式 | 说明 |
|------|------|------|
| questionnaire_cleanned.csv | CSV | 清洗后数据集 |
| questionnaire_schema.json | JSON | 数据模式定义 |
| questionnaire_cleaner.py | Python | 数据清洗处理器 |
| questionnaire_cleaning_plan.md | Markdown | 数据处理计划 |

---

## 7. 建议

### 7.1 数据采集改进

1. **减少缺失值**: 建议将满意度、工作负荷等必答题目设置为必填，减少未回答情况
2. **格式规范**: 建议在数据导出时统一时间格式和数值格式，减少后续清洗工作量
3. **选项一致性**: 确保福利选项的一致性，避免出现"补充医疗"与"五险一金"合并的情况

### 7.2 数据质量监控

1. **实时验证**: 建议在数据采集阶段增加实时格式验证
2. **范围检查**: 对年龄、工作年限等字段添加范围校验
3. **逻辑校验**: 增加问卷跳转逻辑的完整性检查

---

## 附录

### A. 字段定义表

| 字段名 | 类型 | 值域 | 缺失编码 | 约束 |
|--------|------|------|---------|------|
| submit_time | datetime | — | — | 必填 |
| age | integer | 18-70 | -99 | ≥18 |
| tenure_years | float | 0-50 | -99 | ≥0 |
| department | categorical | 1-5 | -99 | — |
| satisfaction | integer | 1-5 | -99 | 正向计分 |
| workload | integer | 1-5 | -99 | 反向计分 |
| benefits_raw | string | — | -99 | — |
| benefit_insurance | binary | 0/1 | — | — |
| benefit_vacation | binary | 0/1 | — | — |
| benefit_medical | binary | 0/1 | — | — |
| other_dept_specify | text | — | -99 | — |

### B. 数据清洗流程图

```
原始数据 (CSV)
    ↓
[阶段1] 元数据标准化
    ├─ 时间格式统一
    ├─ 文本编码清理
    └─ 数值字段净化
    ↓
[阶段2] 结构化清洗
    ├─ 分类变量编码
    ├─ 多选题拆分
    ├─ 量表题方向统一
    ├─ 开放题提取
    └─ 缺失值标记
    ↓
[阶段3] 逻辑一致性校验
    ├─ 范围检查
    ├─ 业务规则验证
    └─ 异常标记
    ↓
清洗后数据 (CSV)
```
